<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0e0f12" />

  <!-- App / Home Screen Icons -->
  <link rel="icon" href="icons/favicon.ico">
  <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icons/icon-512.png">

  <title>Calorie Tracker</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.webmanifest">
</head>

<body>
  <main class="content">

    <!-- DAY TAB -->
    <section class="tab" id="tab-day" data-tab="day">
      <div class="card card--hero">
        <div class="row row--space row--top row--stackMobile">
          <div class="metrics3">
            <div class="metric metric--kcal">
              <div class="metric__label">kcal</div>
              <div class="metric__value" id="dayKcalValue">0</div>
              <div class="metric__sub" id="dayKcalPct">0%</div>
            </div>
            <div class="metric metric--protein">
              <div class="metric__label">Protein (g)</div>
              <div class="metric__value" id="dayProteinValue">0</div>
              <div class="metric__sub" id="dayProteinPct">0%</div>
            </div>
            <div class="metric metric--price">
              <div class="metric__label">Preis (€)</div>
              <div class="metric__value" id="dayPriceValue">0,00</div>
              <div class="metric__sub" id="dayPricePct">0%</div>
            </div>
          </div>
        </div>

        <!-- mini row: carbs/fat/data + goals moved here -->
        <div class="miniRow">
          <div class="miniMetric">
            <div class="miniMetric__label">Kohlenhydrate (g)</div>
            <div class="miniMetric__value" id="dayCarbsValue">0,0</div>
            <div class="miniMetric__sub" id="dayCarbsPct">0%</div>
          </div>

          <div class="miniMetric">
            <div class="miniMetric__label">Fett (g)</div>
            <div class="miniMetric__value" id="dayFatValue">0,0</div>
            <div class="miniMetric__sub" id="dayFatPct">0%</div>
          </div>

          <div class="miniData">
            <div class="miniMetric__label">Daten</div>
            <div class="miniData__buttons">
              <button class="btn btn--tiny btn--ghost" id="btnExport">Export</button>
              <button class="btn btn--tiny btn--ghost" id="btnImport">Import</button>
              <button class="btn btn--tiny btn--ghost" id="btnOpenGoals">Ziele</button>
              <input type="file" id="importFile" accept="application/json" class="hidden" />
            </div>
          </div>
        </div>
      </div>

      <!-- Meals overview -->
      <div class="card">
        <div class="row row--space row--stackMobile">
          <div class="h2">Tag</div>
          <div class="hint" id="dayEmptyHint">Noch keine Einträge.</div>
        </div>

        <div id="mealBlocks" class="mealBlocks"></div>
      </div>
    </section>

    <!-- RECIPES TAB -->
    <section class="tab hidden" id="tab-recipes" data-tab="recipes">
      <div class="card">
        <div class="row row--space row--stackMobile">
          <div class="h2">Gerichte</div>
          <button class="btn btn--big" id="btnNewRecipe">Neues Gericht</button>
        </div>

        <input class="searchInput" id="recipesSearch" type="text" placeholder="Gerichte suchen..." inputmode="search" />
        <div id="recipesList" class="list"></div>
        <div class="hint" id="recipesEmptyHint">Noch keine Gerichte.</div>
      </div>
    </section>

    <!-- INGREDIENTS TAB -->
    <section class="tab hidden" id="tab-ingredients" data-tab="ingredients">
      <div class="card">
        <div class="row row--space row--stackMobile">
          <div class="h2">Zutaten</div>
          <button class="btn btn--big" id="btnNewIngredient">Neue Zutat</button>
        </div>

        <input class="searchInput" id="ingredientsSearch" type="text" placeholder="Zutaten suchen..." inputmode="search" />
        <div id="ingredientsList" class="list"></div>
        <div class="hint" id="ingredientsEmptyHint">Noch keine Zutaten.</div>
      </div>
    </section>

  </main>

  <!-- Bottom area -->
  <div class="bottomArea">
    <!-- Date navigation bar -->
    <div class="dateBar">
      <button class="dateNavBtn" id="btnPrevDay" aria-label="Vorheriger Tag">‹</button>
      <div class="dateLabel" id="dateLabel">Heute</div>
      <button class="dateNavBtn" id="btnNextDay" aria-label="Nächster Tag">›</button>
    </div>

    <!-- Bottom Tabs -->
    <nav class="tabs">
      <button class="tabBtn tabBtn--active" data-nav="day">Tag</button>
      <button class="tabBtn" data-nav="recipes">Gerichte</button>
      <button class="tabBtn" data-nav="ingredients">Zutaten</button>
    </nav>
  </div>

  <!-- Generic modal -->
  <div class="modal hidden" id="modal">
    <div class="modal__sheet">
      <div class="row row--space row--stackMobile">
        <div class="h2" id="modalTitle">Auswahl</div>
        <button class="btn btn--ghost btn--big" id="modalClose">Schließen</button>
      </div>
      <div class="modal__content" id="modalContent"></div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
